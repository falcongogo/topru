# 設計書

## 1. 概要
本ツールはオーラス時に必要打点を計算し、ロン直撃・ロン他家放銃・ツモの3条件を同時に表示する。

## 2. 構成
- app.py: Streamlit UI
- calculate_conditions.py: 条件計算ロジック
- points_lookup.py: 点数ランク変換

## 3. データフロー
1. ユーザーがUIから点数・親・積み棒・供託棒を入力
2. calculate_conditionsで点差計算・支払い形態別必要点数を算出
3. points_lookupでランク名変換
4. UIで色分け表示

## 4. 関数仕様
### calculate_conditions(scores, oya, tsumibo, kyotaku)
- 入力: 各プレイヤー点数, 親位置, 積み棒数, 供託棒数
- 出力: 必要点数・条件・ランク名・詳細

### reverse_lookup(points, win_type, is_parent)
- 入力: 点数, アガリ種別, 親子区別
- 出力: ランク名, 対応点数

## 5. UI仕様
- 点数入力欄: 自分 / 下家 / 対面 / 上家
- 親選択プルダウン
- 積み棒・供託棒入力欄
- 結果表示（色分け付きカード形式）

## 6. 今後の拡張
- OCR入力対応
- 他ルール対応（Mリーグ等）
- 履歴保存
